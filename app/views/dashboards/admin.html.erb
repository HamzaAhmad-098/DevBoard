<% content_for :title, "Admin Dashboard" %>

<h1 class="text-3xl font-bold mb-6">Manage All</h1>

<h2 class="text-xl font-bold mb-2">Users</h2>
<table class="w-full mb-6 bg-gray-800 rounded">
  <thead>
    <tr class="bg-gray-700">
      <th class="p-2 text-left">Name</th>
      <th class="p-2">Role</th>
      <th class="p-2">Email</th>
    </tr>
  </thead>
  <tbody>
    <% @users.each do |user| %>
      <tr>
        <td class="p-2"><%= user.name %></td>
        <td class="p-2"><%= user.role %></td>
        <td class="p-2"><%= user.email %></td>
      </tr>
    <% end %>
  </tbody>
</table>

<h2 class="text-xl font-bold mb-2">Tickets</h2>
<div class="space-y-4">
  <% @tickets.each do |ticket| %>
    <div class="bg-gray-800 p-4 rounded flex justify-between">
      <div>
        <h2 class="font-bold"><%= ticket.title %></h2>
        <p class="text-sm text-gray-400">Status: <%= ticket.status %></p>
      </div>
      <div class="flex space-x-2">
        <%= link_to "Edit", edit_ticket_path(ticket), class: "bg-yellow-600 px-3 py-1 rounded hover:bg-yellow-500" %>
        <%= link_to "Delete", ticket, method: :delete, class: "bg-red-600 px-3 py-1 rounded hover:bg-red-500", data: { confirm: "Are you sure?" } %>
      </div>
    </div>
  <% end %>
</div>
